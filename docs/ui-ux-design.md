# UI/UX設計書

**プロジェクト名**: X Banner Studio
**バージョン**: 1.0.0
**最終更新日**: 2025-11-02

---

## 1. デザインコンセプト

### 1.1 デザイン方針

**テーマ**: シンプル、直感的、プロフェッショナル

- **ミニマリズム**: 必要な機能のみを表示し、UIを整理
- **即時フィードバック**: すべての操作に対してリアルタイムプレビュー
- **視覚的階層**: 主要機能を強調、副次的機能を抑制
- **ブランドカラー**: X（Twitter）のブルー (#1DA1F2) をアクセントに使用

### 1.2 ターゲットユーザー体験

- **初心者**: 説明不要で直感的に操作できる
- **中級者**: 細かい調整が可能
- **モバイルユーザー**: スマホでも快適に操作

---

## 2. レイアウト設計

### 2.1 全体レイアウト（デスクトップ）

```
┌─────────────────────────────────────────────────────┐
│                    Header (60px)                    │
│  X Banner Studio    [プレビュー追従: ON/OFF]        │
├──────────────────┬──────────────────────────────────┤
│                  │                                  │
│   Control Panel  │       Preview Panel              │
│      (400px)     │         (可変幅)                 │
│                  │                                  │
│  ┌────────────┐  │  ┌──────────────────────────┐   │
│  │ Background │  │  │                          │   │
│  │   Picker   │  │  │   Canvas (1500x500px)   │   │
│  └────────────┘  │  │   縮小表示                │   │
│                  │  │                          │   │
│  ┌────────────┐  │  └──────────────────────────┘   │
│  │   Text     │  │                                  │
│  │   Editor   │  │                                  │
│  └────────────┘  │                                  │
│                  │                                  │
│  ┌────────────┐  │                                  │
│  │  Export    │  │                                  │
│  │  Controls  │  │                                  │
│  └────────────┘  │                                  │
│                  │                                  │
└──────────────────┴──────────────────────────────────┘
```

### 2.2 レイアウト（タブレット・モバイル）

```
┌───────────────────────────┐
│      Header (50px)        │
├───────────────────────────┤
│                           │
│    Preview Panel          │
│  ┌─────────────────────┐  │
│  │ Canvas (縮小表示)    │  │
│  └─────────────────────┘  │
│                           │
├───────────────────────────┤
│                           │
│   Control Panel           │
│   (アコーディオン)         │
│                           │
│  ▼ 背景設定               │
│  ▶ テキスト編集           │
│  ▶ エクスポート           │
│                           │
└───────────────────────────┘
```

### 2.3 レスポンシブブレークポイント

| デバイス | 幅 | レイアウト |
|---------|---|-----------|
| Desktop | 1200px以上 | 左右2カラム |
| Tablet | 768px～1199px | 左右2カラム（縮小） |
| Mobile | 375px～767px | 縦1カラム、アコーディオン |

---

## 3. カラーパレット

### 3.1 ブランドカラー

```css
/* Primary */
--x-blue: #1DA1F2;        /* Xブルー（アクセント） */
--x-blue-hover: #1A91DA;  /* ホバー時 */
--x-blue-dark: #0C7ABF;   /* プレス時 */

/* Neutral */
--gray-50: #F9FAFB;       /* 背景 */
--gray-100: #F3F4F6;      /* 薄い背景 */
--gray-200: #E5E7EB;      /* ボーダー */
--gray-300: #D1D5DB;      /* 無効状態 */
--gray-400: #9CA3AF;      /* プレースホルダー */
--gray-500: #6B7280;      /* 補助テキスト */
--gray-700: #374151;      /* 本文 */
--gray-900: #111827;      /* 見出し */

/* Semantic */
--success: #10B981;       /* 成功 */
--warning: #F59E0B;       /* 警告 */
--error: #EF4444;         /* エラー */
--info: #3B82F6;          /* 情報 */
```

### 3.2 使用例

| 要素 | カラー | 備考 |
|-----|-------|-----|
| 主要ボタン | x-blue | PNG出力ボタン等 |
| 通常ボタン | gray-200 | 一般的な操作 |
| テキスト（見出し） | gray-900 | セクションタイトル |
| テキスト（本文） | gray-700 | 説明文 |
| ボーダー | gray-200 | 区切り線 |
| 背景 | gray-50 | ページ全体 |
| 入力フィールド | white, border gray-300 | テキスト入力等 |

---

## 4. タイポグラフィ

### 4.1 フォントファミリー

```css
/* UI用フォント */
--font-ui: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;

/* Canvas用日本語フォント（Google Fonts） */
--font-ja-default: 'Noto Sans JP', sans-serif;
--font-ja-modern: 'Zen Kaku Gothic New', sans-serif;
--font-ja-serif: 'Noto Serif JP', serif;
```

### 4.2 フォントサイズ

| 用途 | サイズ | line-height | font-weight |
|-----|-------|-------------|-------------|
| H1（ページタイトル） | 28px | 1.4 | 700 |
| H2（セクション） | 20px | 1.5 | 600 |
| H3（サブセクション） | 16px | 1.5 | 600 |
| 本文 | 14px | 1.6 | 400 |
| 小テキスト | 12px | 1.5 | 400 |
| ボタンテキスト | 14px | 1.0 | 500 |

---

## 5. コンポーネント設計

### 5.1 ヘッダー

**サイズ**: 全幅 × 60px

**内容**:
- 左側: ロゴ + プロジェクト名 "X Banner Studio"
- 右側: プレビュー追従トグルボタン

```tsx
<header className="h-15 bg-white border-b border-gray-200 px-6 flex items-center justify-between">
  <div className="flex items-center gap-3">
    <svg className="w-8 h-8 text-x-blue">...</svg>
    <h1 className="text-xl font-bold text-gray-900">X Banner Studio</h1>
  </div>

  <div className="flex items-center gap-2">
    <span className="text-sm text-gray-600">プレビュー追従</span>
    <ToggleSwitch checked={isSticky} onChange={setIsSticky} />
  </div>
</header>
```

---

### 5.2 背景選択パネル（BackgroundPicker）

**構成**:
1. **モード選択タブ**: 単色 / グラデーション / 画像
2. **単色モード**:
   - カラーピッカー
   - プリセットカラーパレット（8色）
3. **グラデーションモード**:
   - 開始色ピッカー
   - 終了色ピッカー
   - 方向選択（横/縦/斜め）
4. **画像モード**:
   - ファイルアップロードボタン
   - ドラッグ＆ドロップエリア

**ワイヤーフレーム**:
```
┌────────────────────────────┐
│ 背景設定                    │
├────────────────────────────┤
│ [単色] [グラデ] [画像]       │
├────────────────────────────┤
│                            │
│  ┌──────────────────────┐  │
│  │   Color Picker       │  │
│  │   (Current: #1DA1F2) │  │
│  └──────────────────────┘  │
│                            │
│  プリセット:               │
│  [■][■][■][■][■][■][■][■] │
│                            │
└────────────────────────────┘
```

**インタラクション**:
- タブクリック → モード切り替え
- カラーピッカー変更 → リアルタイムプレビュー更新
- プリセット色クリック → 即座に適用

---

### 5.3 テキスト編集パネル（TextEditor）

**構成**:
1. **テキスト追加セクション**:
   - テキスト入力フィールド
   - 「追加」ボタン
2. **テキストリスト**:
   - 既存テキストオブジェクト一覧
   - 各アイテム: テキスト内容、編集ボタン、削除ボタン
3. **テキスト編集詳細**（選択時）:
   - フォント選択
   - フォントサイズスライダー（12px～200px）
   - 文字色ピッカー
   - 整列ボタン（左/中央/右）

**ワイヤーフレーム**:
```
┌────────────────────────────┐
│ テキスト編集                │
├────────────────────────────┤
│ [テキストを入力________] [+]│
├────────────────────────────┤
│ 追加済みテキスト:          │
│                            │
│ ┌────────────────────────┐ │
│ │ "Hello X Banner"  [編][✕]│
│ └────────────────────────┘ │
│ ┌────────────────────────┐ │
│ │ "Follow me!"      [編][✕]│
│ └────────────────────────┘ │
├────────────────────────────┤
│ ▼ "Hello X Banner" の編集  │
│                            │
│ フォント:                  │
│ [Noto Sans JP ▼]          │
│                            │
│ サイズ: 48px               │
│ [====●============]        │
│                            │
│ 色: [■ #FFFFFF]           │
│                            │
│ 整列: [左][中][右]         │
└────────────────────────────┘
```

**インタラクション**:
- テキスト入力 + Enter → テキスト追加
- テキストアイテムクリック → 詳細編集パネル展開
- 削除ボタンクリック → 確認ダイアログ → 削除
- スライダードラッグ → リアルタイムサイズ変更

---

### 5.4 フォント選択ドロップダウン（FontSelector）

**構成**:
- ドロップダウンボタン（現在のフォント名表示）
- ドロップダウンメニュー（フォント一覧）
- 各フォントアイテムは実際のフォントでプレビュー表示

**ワイヤーフレーム**:
```
┌─────────────────────────────┐
│ Noto Sans JP           [▼] │
└─────────────────────────────┘
         ↓ (クリック時)
┌─────────────────────────────┐
│ ✓ Noto Sans JP             │
│   Zen Kaku Gothic New      │
│   Noto Serif JP            │
│   Roboto                   │
│   M PLUS Rounded 1c        │
└─────────────────────────────┘
```

**インタラクション**:
- ドロップダウンクリック → メニュー表示
- フォント選択 → メニュー閉じる + テキスト更新
- メニュー外クリック → メニュー閉じる

---

### 5.5 カラーピッカー

**タイプ**: HTML5 native color picker + カスタムUI

**構成**:
- カラープレビュー（現在の色）
- HEXコード入力フィールド
- カラーピッカーボタン

**ワイヤーフレーム**:
```
┌──────────────────────┐
│ [■] #1DA1F2  [Pick] │
└──────────────────────┘
```

**インタラクション**:
- HEX入力 → 即座に色変更
- Pickボタンクリック → ブラウザカラーピッカー表示
- カラーピッカー選択 → 色変更

---

### 5.6 エクスポートパネル（ExportControls）

**構成**:
- PNG出力ボタン（大きく目立つ）
- ファイル名プレビュー

**ワイヤーフレーム**:
```
┌────────────────────────────┐
│ エクスポート                │
├────────────────────────────┤
│                            │
│  ┌──────────────────────┐  │
│  │  PNG形式でダウンロード │  │
│  │      (1500×500px)    │  │
│  └──────────────────────┘  │
│                            │
│  ファイル名:               │
│  x-banner-1698765432.png   │
│                            │
└────────────────────────────┘
```

**インタラクション**:
- ボタンクリック → PNG生成 → ダウンロード開始
- 生成中: ローディングアニメーション表示
- 完了: 成功トースト表示

---

### 5.7 プレビューパネル（PreviewPanel）

**構成**:
- Canvas表示エリア（縮小表示）
- 実寸サイズ表示（1500×500px）
- スクロール追従モード（オプション）

**ワイヤーフレーム**:
```
┌────────────────────────────────────┐
│ プレビュー (1500×500px)            │
├────────────────────────────────────┤
│                                    │
│  ┌──────────────────────────────┐  │
│  │                              │  │
│  │     Canvas (縮小表示)         │  │
│  │                              │  │
│  └──────────────────────────────┘  │
│                                    │
│  実際のバナーサイズで表示           │
│  スクロールでズーム可能             │
│                                    │
└────────────────────────────────────┘
```

**インタラクション**:
- マウスホイール → ズームイン/アウト（将来的）
- ドラッグ → パン移動（将来的）
- プレビュー追従ON → スクロール時に固定表示

---

## 6. インタラクションパターン

### 6.1 即時フィードバック

すべての設定変更は即座にプレビューに反映：

| 操作 | フィードバック時間 | 視覚的フィードバック |
|-----|------------------|-------------------|
| 背景色変更 | < 100ms | 即座に色変更 |
| テキスト入力 | < 200ms | タイピング中にリアルタイム更新 |
| フォント変更 | < 300ms | フォント読み込み中はローディング表示 |
| 画像アップロード | 1～2秒 | プログレスバー表示 |

### 6.2 状態表示

#### ローディング状態
```tsx
<button disabled>
  <Spinner className="animate-spin" />
  読み込み中...
</button>
```

#### 成功状態
```tsx
<Toast type="success">
  PNGファイルをダウンロードしました
</Toast>
```

#### エラー状態
```tsx
<Toast type="error">
  ファイルサイズは5MB以下にしてください
</Toast>
```

### 6.3 アニメーション

| 要素 | アニメーション | 時間 |
|-----|--------------|------|
| ボタンホバー | 色変化 | 200ms |
| ドロップダウン展開 | フェードイン + スライドダウン | 150ms |
| トースト表示 | スライドイン（右から） | 300ms |
| モーダル表示 | フェードイン + スケール | 250ms |

---

## 7. アクセシビリティ

### 7.1 キーボード操作

| 操作 | キー | 動作 |
|-----|-----|-----|
| タブ移動 | Tab | 次のフォーカス可能要素へ |
| 逆タブ移動 | Shift + Tab | 前のフォーカス可能要素へ |
| 選択実行 | Enter / Space | ボタンクリック、チェックボックストグル |
| ドロップダウン展開 | Enter / Space / ↓ | メニュー表示 |
| ドロップダウン選択 | ↑ / ↓ | アイテム移動 |
| ドロップダウン確定 | Enter | アイテム選択 |
| ダイアログ閉じる | Esc | モーダル・ドロップダウン閉じる |

### 7.2 ARIAラベル

```tsx
<button
  aria-label="PNG形式でダウンロード"
  aria-describedby="export-description"
>
  ダウンロード
</button>

<div id="export-description" className="sr-only">
  現在のバナーを1500×500pxのPNG形式で保存します
</div>
```

### 7.3 フォーカス表示

```css
/* フォーカスリング */
.focus-visible:focus {
  outline: 2px solid var(--x-blue);
  outline-offset: 2px;
}
```

### 7.4 カラーコントラスト

WCAG 2.1 Level AA基準を満たす：

| 背景色 | テキスト色 | コントラスト比 | 基準 |
|-------|----------|--------------|-----|
| white | gray-900 | 16.5:1 | AAA |
| gray-50 | gray-700 | 8.6:1 | AAA |
| x-blue | white | 4.5:1 | AA |
| gray-200 | gray-700 | 4.7:1 | AA |

---

## 8. レスポンシブ対応

### 8.1 ブレークポイント別レイアウト

#### Desktop (1200px以上)
```css
.app-container {
  display: grid;
  grid-template-columns: 400px 1fr;
  gap: 0;
}

.control-panel {
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
}

.preview-panel {
  padding: 40px;
}
```

#### Tablet (768px～1199px)
```css
.app-container {
  grid-template-columns: 350px 1fr;
}

.preview-panel canvas {
  max-width: 100%;
  height: auto;
}
```

#### Mobile (375px～767px)
```css
.app-container {
  grid-template-columns: 1fr;
}

.control-panel {
  position: relative;
  height: auto;
}

.control-section {
  /* アコーディオン形式 */
}

.preview-panel {
  position: sticky;
  top: 50px;
  background: white;
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
```

### 8.2 タッチ操作対応

| 操作 | デスクトップ | モバイル |
|-----|------------|---------|
| テキスト移動 | ドラッグ | タッチ＆ドラッグ |
| カラーピッカー | クリック | タップ |
| スライダー | ドラッグ | スワイプ |
| ズーム | マウスホイール | ピンチイン/アウト |

---

## 9. エラーUI

### 9.1 画像アップロードエラー

```tsx
<div className="error-message">
  <AlertIcon className="text-error" />
  <p>ファイルサイズは5MB以下にしてください</p>
</div>
```

### 9.2 Canvas初期化エラー

```tsx
<div className="error-screen">
  <h2>キャンバスの初期化に失敗しました</h2>
  <p>ページを再読み込みしてください</p>
  <button onClick={() => window.location.reload()}>
    リロード
  </button>
</div>
```

---

## 10. ユーザーフロー

### 10.1 基本的なバナー作成フロー

```
1. ページアクセス
   ↓
2. デフォルトバナー表示（Xブルー背景）
   ↓
3. 背景設定
   ├─ 単色選択
   ├─ グラデーション設定
   └─ 画像アップロード
   ↓
4. テキスト追加
   ├─ テキスト入力
   ├─ フォント選択
   ├─ サイズ調整
   └─ 色変更
   ↓
5. プレビュー確認
   ├─ 位置調整
   └─ 微調整
   ↓
6. PNG出力
   ↓
7. ダウンロード完了
```

### 10.2 画像背景使用フロー

```
1. 「画像」タブクリック
   ↓
2. ファイル選択（またはドラッグ＆ドロップ）
   ↓
3. ファイル検証（サイズ・形式）
   ├─ OK → 次へ
   └─ NG → エラーメッセージ表示 → 2へ戻る
   ↓
4. 画像読み込み（プログレスバー表示）
   ↓
5. Canvas背景に適用
   ↓
6. テキスト追加（背景と調和する色を推奨）
```

---

## 11. マイクロインタラクション

### 11.1 ボタンホバー

```css
.button {
  transition: all 200ms ease-in-out;
}

.button:hover {
  background-color: var(--x-blue-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(29, 161, 242, 0.3);
}

.button:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(29, 161, 242, 0.2);
}
```

### 11.2 ドラッグ＆ドロップ

```tsx
<div
  className={`dropzone ${isDragging ? 'active' : ''}`}
  onDragOver={() => setIsDragging(true)}
  onDragLeave={() => setIsDragging(false)}
>
  {isDragging ? (
    <p>ここにドロップ</p>
  ) : (
    <p>画像をドラッグ＆ドロップ</p>
  )}
</div>
```

```css
.dropzone {
  border: 2px dashed var(--gray-300);
  transition: all 200ms;
}

.dropzone.active {
  border-color: var(--x-blue);
  background-color: rgba(29, 161, 242, 0.05);
}
```

---

## 12. ダークモード対応（将来的）

### 12.1 カラーパレット（ダークモード）

```css
[data-theme="dark"] {
  --bg-primary: #15202B;       /* X Dark背景 */
  --bg-secondary: #192734;
  --text-primary: #FFFFFF;
  --text-secondary: #8B98A5;
  --border-color: #38444D;
}
```

### 12.2 トグル配置

ヘッダー右側にライト/ダークモード切り替えボタンを追加

---

## 変更履歴

| 日付 | バージョン | 変更内容 | 担当者 |
|-----|----------|---------|-------|
| 2025-11-02 | 1.0.0 | 初版作成 | - |
